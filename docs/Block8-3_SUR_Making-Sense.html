<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Asking Questions from Survey Data</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KSGZ4ESKQ3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'G-KSGZ4ESKQ3');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>




<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>


<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">RDM Jumpstart</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 1
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block1_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block1-1_Intro-RDM.html">Introduction to Research Data Management</a>
    </li>
    <li>
      <a href="Block1-2_Intro-DMP.html">Introduction to Data Management Plans</a>
    </li>
    <li>
      <a href="Block1-3_OSF.html">Introduction to OSF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 2
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block2_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block2-1_Files-and-Folders.html">Organizing Files and Folders</a>
    </li>
    <li>
      <a href="Block2-2_Naming-Conventions.html">Naming Conventions and Folder Structure</a>
    </li>
    <li>
      <a href="Block2-3_Documentation.html">Documentation</a>
    </li>
    <li>
      <a href="Block2-4_Documentation-in-Action.html">Documentation in Action</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 3
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block3_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block3-1_Excel-to-R.html">Reproducible Research and Moving from Excel to Scripting</a>
    </li>
    <li>
      <a href="Block3-2_Intro-to-R.html">Introduction to R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 4
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block4_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block4-1_File-Paths.html">File and Directory Paths</a>
    </li>
    <li>
      <a href="Block4-2_First-Steps.html">First Steps in R</a>
    </li>
    <li>
      <a href="Block4-3_Data-Types.html">Data Types and Structures in R</a>
    </li>
    <li>
      <a href="Block4-4_Updating-Documentation.html">Updating Documentation</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 5
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block5_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block5-1_Viz-Types.html">Types of Visualizations</a>
    </li>
    <li>
      <a href="Block5-2_ggplot.html">Visualizations with ggplot</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Block 6
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block6_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block6-1_Sharing-and-Deposit.html">Sharing and Depositing Data</a>
    </li>
    <li>
      <a href="Block6-2_DMP-wrap.html">DMP and Project Wrap-Up</a>
    </li>
    <li>
      <a href="Block6-3_Borealis.html">Borealis Deposit</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Bonus Blocks
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block7_Bonus_Filter-and-Select.html">R: Filter and Select</a>
    </li>
    <li>
      <a href="Block7_Bonus_Saving-Output.html">R: Saving Outputs</a>
    </li>
    <li>
      <a href="Block7_Bonus_Troubleshooting.html">R: Troubleshooting</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Working with a Survey
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Block8_Overview.html">Overview</a>
    </li>
    <li>
      <a href="Block8-1_SUR_Intro-to-R.html">Introduction to R</a>
    </li>
    <li>
      <a href="Block8-2_SUR_Collect-and-Clean.html">Collecting and Cleaning Survey Data</a>
    </li>
    <li>
      <a href="Block8-3_SUR_Making-Sense.html">Making Sense of Survey Data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Extras
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Resources</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="codeOfConduct.html">Code of Conduct</a>
        </li>
        <li>
          <a href="Block7_EXT-RCheatsheet.html">R Cheatsheet</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Roadmaps</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-RDMRoadmap.html">RDM Roadmap</a>
        </li>
        <li>
          <a href="Block7_EXT-CRRoadmap.html">Reproducible Roadmap</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Concetps in Reproduciblity</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-BaseRtidyverse.html">Base R &amp; Tidyverse</a>
        </li>
        <li>
          <a href="Block7_EXT-ScriptsNotebooks.html">Scripts &amp; Notebooks</a>
        </li>
        <li>
          <a href="Block7_EXT-idePaths.html">IDEs &amp; Relative Paths</a>
        </li>
        <li>
          <a href="Block7_EXT-ChallengesToRDM.html">Challenges to Good RDM Practices</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Additional Content</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-dd.html">Creating a data dictionary</a>
        </li>
        <li>
          <a href="Block7_EXT-dirsFiles.html">Directories and files</a>
        </li>
      </ul>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Setup</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="Block7_EXT-DMP-setup.html">DMP Assistant Setup</a>
        </li>
        <li>
          <a href="Block7_EXT-osfSetup.html">OSF Setup</a>
        </li>
        <li>
          <a href="Block7_EXT-RRStudio.html">R &amp; RStudio Setup</a>
        </li>
        <li>
          <a href="Block7_EXT-Borealis.html">Borealis Setup</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="contributors.html">Contributors</a>
    </li>
    <li>
      <a href="Feedback.html">Feedback</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Asking Questions from Survey Data</h1>

</div>


<div id="asking-questions-from-survey-data" class="section level2">
<h2>Asking Questions from Survey Data</h2>
<p>Now that we have cleaned up our survey data, we can start asking
questions about it! By the end of the previous session,
<a href="Block8-2_SUR_Collect-and_clean.html">Collecting and Cleaning
Survey Data</a>, we generated two cleaned datasets:</p>
<ul>
<li><code>survey_data_tidy.csv</code></li>
<li><code>survey-data_wide.csv</code></li>
</ul>
<p>Long, or “tidy” data and wide data each have their pros and cons, and
in this session we’re going to explore the benefits and drawbacks of
each as we explore our data. But first, let’s take a moment to do some
thinking:</p>
<p>To begin, let’s open up our <code>.RProj</code> file, so that our
working directory will be captured. Now, let’s create a new R script,
and call it <code>survey_analysis_script.R</code>.</p>
<div id="load-the-tidyverse" class="section level3">
<h3>Load the Tidyverse</h3>
<p>Now that we’ve started a new script, we need to load the libraries
that we’ll be using, which in this case is just the Tidyverse.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
</div>
<div id="load-the-data" class="section level3">
<h3>Load the data</h3>
<p>We can now load the two datasets that were generated in the previous
session:</p>
<pre class="r"><code>survey_data_tidy &lt;- read_csv(&quot;survey_data_tidy.csv&quot;)</code></pre>
<pre class="r"><code>survey_data_wide &lt;- read_csv(&quot;survey_data_wide.csv&quot;)</code></pre>
<div class="question">
<ol style="list-style-type: decimal">
<li>Take a look at <code>survey_data_tidy</code> and
<code>survey-data_wide</code> using the <code>View()</code>
command.</li>
</ol>
<pre class="r fold-hide"><code>View(survey_data_tidy)
View(survey_data_wide)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>In groups, spend a few minutes talking about some things you’d
like to know about the data (ie. groups you’d like to count, possible
relationships, etc.).</p></li>
<li><p>Taking a closer look at the <code>tidy</code> and
<code>wide</code> datasets, can you think of reasons why certain
questions might be better with either one of the datasets?</p></li>
</ol>
</div>
</div>
</div>
<div id="exploring-wide-data" class="section level2">
<h2>Exploring Wide Data</h2>
<p>Wide data is easier for humans to read and interpret, and lends
itself well to asking simple questions from single variables, or
columns, of data. Tidy data is better for asking more complicated
questions, as well as asking about multiple variables and possible
relationships between them. Let’s first start with some simple questions
we can ask from the <strong>wide version</strong> of our data.</p>
<p>A simple first step when exploring a dataset is getting counts of
individual variables. To do this, we can use the <code>count()</code>
function:</p>
<div class="walkthrough">
<p><strong>What does the sample breadkdown of gender?</strong></p>
<pre class="r"><code>survey_data_wide |&gt;
  count(gender)</code></pre>
<p><strong>Step-by-step explanation:</strong></p>
<ol style="list-style-type: decimal">
<li>We start with the <code>survey_data_wide</code> object and use the
pipe, <code>|&gt;</code>, to indicate we want to do something with
it.</li>
<li>We then use the <code>count()</code> function to give us a total sum
of whatever variable/column name we put inside the brackets.</li>
</ol>
</div>
<p><strong>What is the sample breakdown of age?</strong></p>
<pre class="r"><code>survey_data_wide |&gt;
  count(age)</code></pre>
<p>In addition to looking at single variables with the
<code>count()</code> function, we can also generate quick summary tables
across multiple variables by separating them with commas
<code>,</code>:</p>
<p><strong>What is the sample breakdown of age and gender?</strong></p>
<pre class="r"><code>survey_data_wide |&gt;
  count(age, gender)</code></pre>
<pre><code>## # A tibble: 24 × 3
##      age gender               n
##    &lt;dbl&gt; &lt;chr&gt;            &lt;int&gt;
##  1    18 Female              31
##  2    18 Male                34
##  3    18 Non-binary/Other     3
##  4    19 Female              25
##  5    19 Male                24
##  6    19 Non-binary/Other     6
##  7    20 Female              28
##  8    20 Male                17
##  9    20 Non-binary/Other     3
## 10    21 Female              12
## # ℹ 14 more rows</code></pre>
<p>You’ll see the note that there are 14 more rows, and that you can use
the <code>print()</code> function to view more. You can do this you can
do this by specifiying the amount of rows (in this case there are
24)</p>
<pre class="r"><code>survey_data_wide |&gt;
  count(age, gender) |&gt;
  print(n = 24)</code></pre>
<p>You can keep adding additional variables to these, noting that each
variable will add additional rows. If you don’t want to look at the
values in the R console, you can use the <code>View()</code> function to
open it in a separate tab.</p>
<pre class="r"><code>survey_data_wide |&gt;
  count(age, gender, year_of_study) |&gt;
  View()</code></pre>
<p>If this is something you want to come back to, you can save it into
an R object.</p>
<pre class="r"><code>demographics_count &lt;- survey_data_wide |&gt;
  count(age, gender, year_of_study)

View(demographics_count)</code></pre>
<p>A final thing that can be helpful with the <code>count()</code>
function is adding in the proportion that each sum represents in the
total sample.</p>
<div class="walkthrough">
<pre class="r"><code>survey_data_wide |&gt;
  count(gender) |&gt;
  mutate(prop = n / sum(n))</code></pre>
<p><strong>Step-by-step explanation:</strong></p>
<ol style="list-style-type: decimal">
<li>Start by piping the <code>survey_wide</code> object to the
<code>count()</code> function like we’ve been doing.</li>
<li>Add another pipe to indicate we are passing that count to another
function.</li>
<li><code>mutate(prop</code> creates a new column called
<code>prop</code>, which stands for proportion (you can name this
whatever you want).</li>
<li>Everything on the right side of the <code>=</code> is assigned to
the new <code>prop</code> column.</li>
<li><code>n</code> is the count for each gender category, and
<code>sum(n)</code> is the total number of every row/person in the
sample.</li>
<li><code>n / sum(n))</code> calculates
<code>"count of each category" / "total count"</code>, which gives a
proportion.</li>
</ol>
</div>
</div>
<div id="your-turn" class="section level2">
<h2>Your Turn!</h2>
<div class="question">
<p>See if you can create the following from the
<code>survey_data_wide</code> object:</p>
<ol style="list-style-type: decimal">
<li>A count of each <code>gender</code> category.</li>
</ol>
<pre class="r fold-hide"><code>survey_data_wide |&gt;
  count(gender)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>A count of each <code>age</code> and
<code>year_of_study</code>.</li>
</ol>
<pre class="r fold-hide"><code>survey_data_wide |&gt;
  count(age, year_of_study)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>The count of <code>age</code> and its proportion.</li>
</ol>
<pre class="r fold-hide"><code>survey_data_wide |&gt;
  count(age) |&gt;
  mutate(prop = n / sum(n))</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>The count of <code>age</code>, <code>year_of_study</code>, and the
proportion</li>
</ol>
<pre class="r fold-hide"><code>survey_data_wide |&gt;
  count(age, year_of_study) |&gt;
  mutate(prop = n / sum(n))</code></pre>
</div>
</div>
<div id="simple-barplots-as-exploration" class="section level2">
<h2>Simple Barplots as Exploration</h2>
<p>In addition to creating summary tables to explore data, creating
simple plots can be another way to explore your data.</p>
<p>One way to do this, is using the base R <code>barplot()</code>
function. This can be done in a few steps.</p>
<p>In this example, we’re going to plot the categories of the
<code>hours_per_day</code> columns.</p>
<p>First, let’s look at the <code>$</code> operator. When placed after a
data object in R, it allows you to isolate specified columns.</p>
<pre class="r"><code>survey_data_wide$hours_per_day</code></pre>
<p>This will show all the values in that column in the R console. Give
it a try with other columns!</p>
<p>Next, we can also use the <code>table</code> function here, to
generate a quick summary table of that column.</p>
<pre class="r"><code>table(survey_data_wide$hours_per_day)</code></pre>
<p>Give this a try with some other columns!</p>
<p>Now we’re going to save this table as an object called
<code>hours_table</code>.</p>
<pre class="r"><code>hours_table &lt;- table(survey_data_wide$hours_per_day)</code></pre>
<p>Finally, we can feed the <code>hours_table</code> object into the
<code>barplot()</code> function to get our plot.</p>
<pre class="r"><code>barplot(hours_table)</code></pre>
<p><img src="Block8-3_SUR_Making-Sense_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>You might notice that the bars aren’t in any particular order, which
can be a bit annoying. Let’s clean this up by creating adding another
step.</p>
<pre class="r"><code>hours_sorted &lt;- sort(hours_table, decreasing = TRUE)</code></pre>
<pre class="r"><code>barplot(hours_sorted)</code></pre>
<p><img src="Block8-3_SUR_Making-Sense_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>The <code>sort</code> function is telling R that we want to reorder
the values in <code>hours_table</code>, and the
<code>decreasing = TRUE</code> allows us to see the values from biggest
to smallest. You can change this to <code>decreasing = FALSE</code> to
see smallest to biggest.</p>
<p>When exploring data, it’s not always necessary to add labels to our
plots. However, this chart might be something you want to communicate,
so let’s add some labels!</p>
<pre class="r"><code>barplot(hours_sorted,
        main = &quot;Hours per day on social media&quot;,
        xlab = &quot;Hours per day&quot;,
        ylab = &quot;Number of students&quot;)</code></pre>
<p><img src="Block8-3_SUR_Making-Sense_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>With the <code>barplot()</code> function:</p>
<ul>
<li><code>main</code> is the title of the chart.</li>
<li><code>xlab</code> is the label on the x (horizontal) axis.</li>
<li><code>ylad</code> is the label on the y (vertical) axis.</li>
</ul>
</div>
<div id="your-turn-1" class="section level2">
<h2>Your Turn!</h2>
<div class="question">
<ol style="list-style-type: decimal">
<li>Make a barplot for the <code>feel_increase_stress</code> variable,
that orders the bars from biggest to smallest, and has labels for the
title, and both axes.</li>
</ol>
<p>Hint: break this into 3 steps:</p>
<ul>
<li>Create an object that creates a table of the
<code>feel_increase_stress</code> column</li>
<li>Create another object that sorts the table in decreasing order</li>
<li>Create a barplot and add 3 layers of labels.</li>
</ul>
<pre class="r fold-hide"><code>stress_count &lt;- table(survey_data_wide$feel_increase_stress)

stress_sorted &lt;- sort(stress_count, decreasing = TRUE)

barplot(stress_sorted,
        main = &quot;Social media makes me feel anxious or stressed&quot;,
        xlab = &quot;Feeling anxious or stressed&quot;,
        ylab = &quot;Number of students&quot;)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Try this with another column!</li>
</ol>
</div>
</div>
<div id="moving-to-tidy-data" class="section level2">
<h2>Moving to Tidy Data</h2>
<p>As we’ve seen, working with wide data can be helpful for generating
quick summaries and counts. But what if we want to ask something that’s
a bit more complicated?</p>
<div class="question">
<p>In groups, take a look at the data and talk about how you might go
about answering the question, <strong>which platforms are most
used?</strong></p>
</div>
<p>There are certainly ways to do this with the wide data. One way would
be to use the <code>count()</code> function for each individual column.
However, this is a bit clunky, and then you would have to then deal with
merging the responses into a table (not impossible, but it’s more work).
There is a way to do this is a single code chunk, but it becomes overly
long and complicated:</p>
<pre class="r"><code>platform_counts_wide &lt;- survey_wide |&gt;
  summarise(
    across(
      c(`LinkedIn`, Instagram, Reddit, Facebook,
        `X (Twitter)`, TikTok, Snapchat),
      ~ sum(.x)
    )
  ) |&gt;
  pivot_longer(
    cols = everything(),
    names_to = &quot;platform&quot;,
    values_to = &quot;n_users&quot;
  ) |&gt;
  arrange(desc(n_users))

platform_counts_wide</code></pre>
<p>We don’t need to understand this code chunk, it is just an example of
what the code looks like. However, if we shift to <strong>tidy</strong>
data, the code becomes much shorter and simpler.</p>
<p>First, let’s start by taking another look at the tidy data.</p>
<pre class="r"><code>View(survey_data_tidy)</code></pre>
<p>You can see that there is the single <code>platforms</code> column
that we are able to query.</p>
<p>Now, let’s do a count of the different categories in this column.</p>
<pre class="r"><code>survey_data_tidy |&gt;
  count(platforms, name = &quot;n_students&quot;)</code></pre>
<pre><code>## # A tibble: 7 × 2
##   platforms   n_students
##   &lt;chr&gt;            &lt;int&gt;
## 1 Facebook          3200
## 2 Instagram         5340
## 3 LinkedIn          2520
## 4 Reddit            4100
## 5 Snapchat          2420
## 6 TikTok            5480
## 7 X (Twitter)       2960</code></pre>
<p>In this code, we are using the <code>count()</code> function like we
just did, and the <code>name = "n_students"</code> creates a new column
name for the number for each column. <code>"n_students"</code> was used
to show this is the number of students, but you can put anything you
want here, or leave it blank if preferred.</p>
<p>You can see that this code is very simple, but there is a big problem
with the numbers! Because our tidy data adds additional rows to data, we
are seeing numbers in the thousands when our sample size is only 300.
However, when we cleaned the data, we created a unique ID for each
entry. This was to help with re-identifying responses if needed, but it
can also help us with eliminating redundant rows.</p>
<pre class="r"><code>survey_data_tidy |&gt;
  distinct(ID, platforms) |&gt;
  count(platforms, name = &quot;n_students&quot;)</code></pre>
<pre><code>## # A tibble: 7 × 2
##   platforms   n_students
##   &lt;chr&gt;            &lt;int&gt;
## 1 Facebook           160
## 2 Instagram          267
## 3 LinkedIn           126
## 4 Reddit             205
## 5 Snapchat           121
## 6 TikTok             274
## 7 X (Twitter)        148</code></pre>
<p>The <code>distinct()</code> function is telling R that we only want
to keep unique combinations of each student <code>ID</code> and
<code>platform</code>, which eliminates any of the redundancy of the
tidy data. As you can see, the numbers are now accurate to our
sample.</p>
<p>As with before, it can be nice to arrange the numbers from biggest to
smallest.</p>
<pre class="r"><code>survey_data_tidy |&gt;
  distinct(ID, platforms) |&gt;
  count(platforms, name = &quot;n_students&quot;) |&gt;
  arrange(desc(n_students))</code></pre>
<pre><code>## # A tibble: 7 × 2
##   platforms   n_students
##   &lt;chr&gt;            &lt;int&gt;
## 1 TikTok             274
## 2 Instagram          267
## 3 Reddit             205
## 4 Facebook           160
## 5 X (Twitter)        148
## 6 LinkedIn           126
## 7 Snapchat           121</code></pre>
<p>In this case, the <code>arrange()</code> function tells R that we
want to change the order of something, and <code>desc(n_students)</code>
specifies that we want the <code>n_students</code> column, which is the
values for each platform, to be listed in descending order (biggest to
smallest).</p>
<p>Finally, once we’re happy with the output of this code chunk, we can
save it as an R object to revisit. We’ll call the object
<code>platform_count</code>, and now we can easily view and work with it
going forward.</p>
<pre class="r"><code>platform_count &lt;- survey_data_tidy |&gt;
  distinct(ID, platforms) |&gt;
  count(platforms, name = &quot;n_students&quot;) |&gt;
  arrange(desc(n_students))</code></pre>
</div>
<div id="going-deeper-with-tidy-data" class="section level2">
<h2>Going Deeper with Tidy Data</h2>
<p>Let’s keep digging into the tidy data, and start asking questions
that are related to our bigger research question, <strong>“How does
social media usage influence the mental health of university
students?</strong></p>
<div id="comparison-operators" class="section level3">
<h3><strong>Comparison Operators</strong></h3>
<p>Comparison operators allow us to look for specific criteria in our
dataset. These return <code>TRUE</code> or <code>FALSE</code> based on
whether the condition is met.</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Example</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>==</code></td>
<td>Equal to</td>
<td><code>5 == 5</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>Not equal to</td>
<td><code>5 != 3</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>&lt;</code></td>
<td>Less than</td>
<td><code>3 &lt; 5</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&gt;</code></td>
<td>Greater than</td>
<td><code>5 &gt; 3</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>&lt;=</code></td>
<td>Less than or equal to</td>
<td><code>3 &lt;= 3</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&gt;=</code></td>
<td>Greater than or equal to</td>
<td><code>5 &gt;= 3</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
<p>Once we understand these basic comparison operators, we can combine
them using logical operators to create more complex filtering
conditions.</p>
</div>
<div id="logical-operators" class="section level3">
<h3><strong>Logical Operators</strong></h3>
<p>Logical operators allow us to filter data based on multiple
conditions.</p>
<table>
<colgroup>
<col width="14%" />
<col width="47%" />
<col width="20%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Example</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&amp;</code></td>
<td>Logical AND (Both conditions must be TRUE)</td>
<td><code>(5 &gt; 3) &amp; (4 &lt; 6)</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>Logical OR (At least one condition must be TRUE)</td>
<td><code>(5 &gt; 3) | (4 &gt; 6)</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>!</code></td>
<td>Logical NOT (Reverses TRUE/FALSE)</td>
<td><code>!(5 &gt; 3)</code></td>
<td><code>FALSE</code></td>
</tr>
</tbody>
</table>
</div>
<div id="asking-questions-with-filtering" class="section level3">
<h3>Asking Questions with Filtering</h3>
<div class="note">
<p>The <code>filter()</code> function returns only the rows that meet a
specified condition.</p>
</div>
<p>From the <code>feel-question</code> column in our tidy data, these
values indicating whether social media makes students feel connected to
others (<code>feel_connected</code>), anxious or stressed
(<code>feel_increase_stress</code>), distracts them from academic work
(<code>feel_distracted</code>), or improves their mood
(<code>feel_improved_mood</code>).</p>
<p>As part of the bigger research question, “How does social media usage
influence the mental health of university students?, we can use this
variable to start asking the question, <strong>“how many students feel X
because of their social media use?</strong></p>
<div class="walkthrough">
<p>Let’s first start by asking, “how many students feel <strong>anxious
or stressed</strong> because of social media?</p>
<pre class="r"><code>stressed_count &lt;- survey_data_tidy |&gt;
  distinct(ID, feel_question, feel_response) |&gt;
  filter(feel_question == &quot;feel_increase_stress&quot;) |&gt;
  count(feel_response, name = &quot;feel_increase_stress&quot;) |&gt;
  arrange(desc(feel_increase_stress))

stressed_count</code></pre>
<pre><code>## # A tibble: 5 × 2
##   feel_response     feel_increase_stress
##   &lt;chr&gt;                            &lt;int&gt;
## 1 Agree                               69
## 2 Disagree                            69
## 3 Neutral                             68
## 4 Strongly disagree                   48
## 5 Strongly agree                      46</code></pre>
<p><strong>Step-by-step explanation:</strong></p>
<ul>
<li>We start by creating a new R object that will save this information,
called <code>stressed_count</code>.</li>
<li>We then pipe the <code>survey_data_tidy</code> object to indicate we
will manipulate it in some way.</li>
<li>Next, <code>distinct(ID, feel_question, feel_response)</code> tells
R to only keep unique combinations of <code>ID</code>,
<code>feel-question</code>, and <code>feel_response</code>.</li>
<li>This is then piped through to the <code>filter()</code> command, and
<code>feel_question == feel_increase_stress</code> looks for only for
the stressed values in the <code>feel_question</code> column.</li>
<li>This is piped into the <code>count()</code> function, to indicate we
want a count of every unique <code>feel_increase_stress</code> answer in
the <code>feel_response</code> column, and gives names the new column of
counts <code>feel_increase_stress</code>.</li>
<li>Finally, the <code>arrange(desc(feel_increase_stres))</code> line
arranges the values from biggest to smallest.</li>
</ul>
</div>
</div>
</div>
<div id="your-turn-2" class="section level2">
<h2>Your Turn!</h2>
<div class="question">
<p>Hint: Use the code chunk above to guide your solution.</p>
<ol style="list-style-type: decimal">
<li>How many students feel <em>more connected</em> because of their
social media use?</li>
</ol>
<pre class="r fold-hide"><code>connected_count |&gt;
  distinct(ID, feel_question, feel_response) |&gt;
  filter(feel_question == &quot;feel_connected&quot;) |&gt;
  count(feel_response, name = &quot;feel_connected&quot;) |&gt;
  arrange(desc(feel_connected))

connected_count</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>How many students feel <em>distracted</em> by their social media
use?</li>
</ol>
<pre class="r fold-hide"><code>distracted_count |&gt;
  distinct(ID, feel_question, feel_response) |&gt;
  filter(feel_question == &quot;feel_distracted&quot;) |&gt;
  count(feel_response, name = &quot;feel_distracted&quot;) |&gt;
  arrange(desc(feel_distracted))

distracted_count</code></pre>
</div>
</div>
<div id="subsetting-with-filter-and-select" class="section level2">
<h2>Subsetting with Filter and Select</h2>
<p>Now that we’ve seen how the <code>filter()</code> function can help
narrow down the row we want, we can add the <code>select()</code>
function to narrow which columns to look at. This is an action called
<strong>subsetting</strong>, and is where we can start asking more
complex questions.</p>
<p><img src="images/3-ACT-3-Overview.png" /></p>
<p>As part of our research question, we’re interested in comparing the
mental health responses (the <code>feel-</code> columns) in light users
of social media vs. heavy users.</p>
<ul>
<li><p>Light users are those that responded “Less than 2 hours” or “2-4
hours” per day.</p></li>
<li><p>Heavy users are those that responded “4-6 hours” or “More than 6
hours” per day.</p></li>
</ul>
<div class="walkthrough">
<p>Let’s start by isolating <strong>heavy users</strong> of social
media. We’ll want to choose <strong>rows</strong> that contain “4-6
hours” or “More than 6 hours”, and the <code>ID</code>,
<code>hours_per_day</code>, <code>feel_question</code>, and
<code>feel_response</code> <strong>columns</strong>.</p>
<pre class="r"><code>heavy_users_feel &lt;- survey_data_tidy |&gt;
  filter(
    hours_per_day == &quot;4–6 hours&quot; |
    hours_per_day == &quot;More than 6 hours&quot;) |&gt;
  select(ID, hours_per_day, feel_question, feel_response)

heavy_users_feel</code></pre>
<p><strong>Step-by-step explanation:</strong></p>
<ul>
<li>Create a new R object called <code>heavy_users_feel</code> that will
hold the data we subset.</li>
<li>Pipe <code>survey_data_tidy</code> into the <code>filter()</code>
function, to isolate the rows we want.</li>
<li><code>hours_per_day == "4-6 hours"</code> tells R we want the rows
with “4-6 hours” in the <code>hours_per_day</code> column.</li>
<li>We use the or operator, <code>|</code>, to indicate that we
<strong>either</strong> want “4-6 hours”, or another response.</li>
<li><code>hours_per_day == "More than 6 hours"</code> lets R know that
this is the other response we want.</li>
<li>This is piped into the <code>select()</code> function, to tell R
which columns we’d like in our subsetted data.</li>
<li><code>heavy_users_feel</code> will then show what this data looks
like.</li>
</ul>
</div>
</div>
<div id="your-turn-3" class="section level2">
<h2>Your Turn!</h2>
<div class="question">
<p>Now that we’ve isolated heavy users, see if you can do the same for
<strong>light users</strong>.</p>
<p>Hint: Look at the code above and see what bits can be changed to
achieve the same result.</p>
<pre class="r fold-hide"><code>light_users_feel &lt;- survey_data_tidy |&gt;
  filter(
    hours_per_day == &quot;Less than 2 hours&quot; |
    hours_per_day == &quot;2–4 hours&quot;) |&gt;
  select(ID, hours_per_day, feel_question, feel_response)

light_users_feel</code></pre>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiQXNraW5nIFF1ZXN0aW9ucyBmcm9tIFN1cnZleSBEYXRhIgpwYWdldGl0bGU6ICJBc2tpbmcgUXVlc3Rpb25zIGZyb20gU3VydmV5IERhdGEiCm91dHB1dDoKICBodG1sX2RvY3VtZW50OgogICAgY29kZV9mb2xkaW5nOiBzaG93ICMgYWxsb3dzIHRvZ2dsaW5nIG9mIHNob3dpbmcgYW5kIGhpZGluZyBjb2RlLiBSZW1vdmUgaWYgbm90IHVzaW5nIGNvZGUuCiAgICBjb2RlX2Rvd25sb2FkOiB0cnVlICMgYWxsb3dzIHRoZSB1c2VyIHRvIGRvd25sb2FkIHRoZSBzb3VyY2UgLlJtZCBmaWxlLiBSZW1vdmUgaWYgbm90IHVzaW5nIGNvZGUuCiAgICBpbmNsdWRlczoKICAgICAgYWZ0ZXJfYm9keTogZm9vdGVyLmh0bWwgIyBpbmNsdWRlIGEgY3VzdG9tIGZvb3Rlci4KICAgIHRvYzogdHJ1ZQogICAgdG9jX2RlcHRoOiAzCiAgICB0b2NfZmxvYXQ6CiAgICAgIGNvbGxhcHNlZDogZmFsc2UKICAgICAgc21vb3RoX3Njcm9sbDogZmFsc2UKLS0tCmBgYHtyIHNldHVwLCBpbmNsdWRlPUZBTFNFfQprbml0cjo6b3B0c19jaHVuayRzZXQobWVzc2FnZSA9IEZBTFNFLCB3YXJuaW5ncyA9IEZBTFNFKQpgYGAKCiMjIEFza2luZyBRdWVzdGlvbnMgZnJvbSBTdXJ2ZXkgRGF0YQoKTm93IHRoYXQgd2UgaGF2ZSBjbGVhbmVkIHVwIG91ciBzdXJ2ZXkgZGF0YSwgd2UgY2FuIHN0YXJ0IGFza2luZyBxdWVzdGlvbnMgYWJvdXQgaXQhIEJ5IHRoZSBlbmQgb2YgdGhlIHByZXZpb3VzIHNlc3Npb24sIDxhIGhyZWY9IkJsb2NrOC0yX1NVUl9Db2xsZWN0LWFuZF9jbGVhbi5odG1sIj5Db2xsZWN0aW5nIGFuZCBDbGVhbmluZyBTdXJ2ZXkgRGF0YTwvYT4sIHdlIGdlbmVyYXRlZCB0d28gY2xlYW5lZCBkYXRhc2V0czoKCiogYHN1cnZleV9kYXRhX3RpZHkuY3N2YAoqIGBzdXJ2ZXktZGF0YV93aWRlLmNzdmAKCkxvbmcsIG9yICJ0aWR5IiBkYXRhIGFuZCB3aWRlIGRhdGEgZWFjaCBoYXZlIHRoZWlyIHByb3MgYW5kIGNvbnMsIGFuZCBpbiB0aGlzIHNlc3Npb24gd2UncmUgZ29pbmcgdG8gZXhwbG9yZSB0aGUgYmVuZWZpdHMgYW5kIGRyYXdiYWNrcyBvZiBlYWNoIGFzIHdlIGV4cGxvcmUgb3VyIGRhdGEuIEJ1dCBmaXJzdCwgbGV0J3MgdGFrZSBhIG1vbWVudCB0byBkbyBzb21lIHRoaW5raW5nOgoKVG8gYmVnaW4sIGxldCdzIG9wZW4gdXAgb3VyIGAuUlByb2pgIGZpbGUsIHNvIHRoYXQgb3VyIHdvcmtpbmcgZGlyZWN0b3J5IHdpbGwgYmUgY2FwdHVyZWQuIE5vdywgbGV0J3MgY3JlYXRlIGEgbmV3IFIgc2NyaXB0LCBhbmQgY2FsbCBpdCBgc3VydmV5X2FuYWx5c2lzX3NjcmlwdC5SYC4gCgojIyMgTG9hZCB0aGUgVGlkeXZlcnNlCgpOb3cgdGhhdCB3ZSd2ZSBzdGFydGVkIGEgbmV3IHNjcmlwdCwgd2UgbmVlZCB0byBsb2FkIHRoZSBsaWJyYXJpZXMgdGhhdCB3ZSdsbCBiZSB1c2luZywgd2hpY2ggaW4gdGhpcyBjYXNlIGlzIGp1c3QgdGhlIFRpZHl2ZXJzZS4KCmBgYHtyLCBldmFsPVRSVUUsIGluY2x1ZGU9RkFMU0V9CmxpYnJhcnkodGlkeXZlcnNlKQpgYGAKCmBgYHtyLCBldmFsPUZBTFNFfQpsaWJyYXJ5KHRpZHl2ZXJzZSkKYGBgCgojIyMgTG9hZCB0aGUgZGF0YQoKV2UgY2FuIG5vdyBsb2FkIHRoZSB0d28gZGF0YXNldHMgdGhhdCB3ZXJlIGdlbmVyYXRlZCBpbiB0aGUgcHJldmlvdXMgc2Vzc2lvbjoKCmBgYHtyLCBldmFsPVRSVUUsIGluY2x1ZGU9RkFMU0V9CnN1cnZleV9kYXRhX3RpZHkgPC0gcmVhZF9jc3YoImRhdGEvc3VydmV5LWNsZWFuaW5nLXdvcmtzaG9wL3N1cnZleV9kYXRhX3RpZHkuY3N2IikKYGBgCgpgYGB7ciwgZXZhbD1UUlVFLCBpbmNsdWRlPUZBTFNFfQpzdXJ2ZXlfZGF0YV93aWRlIDwtIHJlYWRfY3N2KCJkYXRhL3N1cnZleS1jbGVhbmluZy13b3Jrc2hvcC9zdXJ2ZXlfZGF0YV93aWRlLmNzdiIpCmBgYAoKYGBge3IsIGV2YWw9RkFMU0V9CnN1cnZleV9kYXRhX3RpZHkgPC0gcmVhZF9jc3YoInN1cnZleV9kYXRhX3RpZHkuY3N2IikKYGBgCgpgYGB7ciwgZXZhbD1GQUxTRX0Kc3VydmV5X2RhdGFfd2lkZSA8LSByZWFkX2Nzdigic3VydmV5X2RhdGFfd2lkZS5jc3YiKQpgYGAKCgo6OjpxdWVzdGlvbgoKMSkgVGFrZSBhIGxvb2sgYXQgYHN1cnZleV9kYXRhX3RpZHlgIGFuZCBgc3VydmV5LWRhdGFfd2lkZWAgdXNpbmcgdGhlIGBWaWV3KClgIGNvbW1hbmQuIApgYGB7ciwgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZScsIGV2YWwgPSBGQUxTRX0KVmlldyhzdXJ2ZXlfZGF0YV90aWR5KQpWaWV3KHN1cnZleV9kYXRhX3dpZGUpCmBgYAoyKSBJbiBncm91cHMsIHNwZW5kIGEgZmV3IG1pbnV0ZXMgdGFsa2luZyBhYm91dCBzb21lIHRoaW5ncyB5b3UnZCBsaWtlIHRvIGtub3cgYWJvdXQgdGhlIGRhdGEgKGllLiBncm91cHMgeW91J2QgbGlrZSB0byBjb3VudCwgcG9zc2libGUgcmVsYXRpb25zaGlwcywgZXRjLikuCgozKSBUYWtpbmcgYSBjbG9zZXIgbG9vayBhdCB0aGUgYHRpZHlgIGFuZCBgd2lkZWAgZGF0YXNldHMsIGNhbiB5b3UgdGhpbmsgb2YgcmVhc29ucyB3aHkgY2VydGFpbiBxdWVzdGlvbnMgbWlnaHQgYmUgYmV0dGVyIHdpdGggZWl0aGVyIG9uZSBvZiB0aGUgZGF0YXNldHM/Cgo6OjoKCiMjIEV4cGxvcmluZyBXaWRlIERhdGEKCldpZGUgZGF0YSBpcyBlYXNpZXIgZm9yIGh1bWFucyB0byByZWFkIGFuZCBpbnRlcnByZXQsIGFuZCBsZW5kcyBpdHNlbGYgd2VsbCB0byBhc2tpbmcgc2ltcGxlIHF1ZXN0aW9ucyBmcm9tIHNpbmdsZSB2YXJpYWJsZXMsIG9yIGNvbHVtbnMsIG9mIGRhdGEuIFRpZHkgZGF0YSBpcyBiZXR0ZXIgZm9yIGFza2luZyBtb3JlIGNvbXBsaWNhdGVkIHF1ZXN0aW9ucywgYXMgd2VsbCBhcyBhc2tpbmcgYWJvdXQgbXVsdGlwbGUgdmFyaWFibGVzIGFuZCBwb3NzaWJsZSByZWxhdGlvbnNoaXBzIGJldHdlZW4gdGhlbS4gTGV0J3MgZmlyc3Qgc3RhcnQgd2l0aCBzb21lIHNpbXBsZSBxdWVzdGlvbnMgd2UgY2FuIGFzayBmcm9tIHRoZSAqKndpZGUgdmVyc2lvbioqIG9mIG91ciBkYXRhLgoKQSBzaW1wbGUgZmlyc3Qgc3RlcCB3aGVuIGV4cGxvcmluZyBhIGRhdGFzZXQgaXMgZ2V0dGluZyBjb3VudHMgb2YgaW5kaXZpZHVhbCB2YXJpYWJsZXMuIFRvIGRvIHRoaXMsIHdlIGNhbiB1c2UgdGhlIGBjb3VudCgpYCBmdW5jdGlvbjoKCjo6OndhbGt0aHJvdWdoCgoqKldoYXQgZG9lcyB0aGUgc2FtcGxlIGJyZWFka2Rvd24gb2YgZ2VuZGVyPyoqCmBgYHtyLCBldmFsPUZBTFNFfQpzdXJ2ZXlfZGF0YV93aWRlIHw+CiAgY291bnQoZ2VuZGVyKQpgYGAKCioqU3RlcC1ieS1zdGVwIGV4cGxhbmF0aW9uOioqCgoxKSBXZSBzdGFydCB3aXRoIHRoZSBgc3VydmV5X2RhdGFfd2lkZWAgb2JqZWN0IGFuZCB1c2UgdGhlIHBpcGUsIGB8PmAsIHRvIGluZGljYXRlIHdlIHdhbnQgdG8gZG8gc29tZXRoaW5nIHdpdGggaXQuCjIpIFdlIHRoZW4gdXNlIHRoZSBgY291bnQoKWAgZnVuY3Rpb24gdG8gZ2l2ZSB1cyBhIHRvdGFsIHN1bSBvZiB3aGF0ZXZlciB2YXJpYWJsZS9jb2x1bW4gbmFtZSB3ZSBwdXQgaW5zaWRlIHRoZSBicmFja2V0cy4KOjo6CgoqKldoYXQgaXMgdGhlIHNhbXBsZSBicmVha2Rvd24gb2YgYWdlPyoqCmBgYHtyLCBldmFsPUZBTFNFfQpzdXJ2ZXlfZGF0YV93aWRlIHw+CiAgY291bnQoYWdlKQpgYGAKCkluIGFkZGl0aW9uIHRvIGxvb2tpbmcgYXQgc2luZ2xlIHZhcmlhYmxlcyB3aXRoIHRoZSBgY291bnQoKWAgZnVuY3Rpb24sIHdlIGNhbiBhbHNvIGdlbmVyYXRlIHF1aWNrIHN1bW1hcnkgdGFibGVzIGFjcm9zcyBtdWx0aXBsZSB2YXJpYWJsZXMgYnkgc2VwYXJhdGluZyB0aGVtIHdpdGggY29tbWFzIGAsYDoKCioqV2hhdCBpcyB0aGUgc2FtcGxlIGJyZWFrZG93biBvZiBhZ2UgYW5kIGdlbmRlcj8qKgpgYGB7ciwgZXZhbD1UUlVFfQpzdXJ2ZXlfZGF0YV93aWRlIHw+CiAgY291bnQoYWdlLCBnZW5kZXIpCmBgYAoKWW91J2xsIHNlZSB0aGUgbm90ZSB0aGF0IHRoZXJlIGFyZSAxNCBtb3JlIHJvd3MsIGFuZCB0aGF0IHlvdSBjYW4gdXNlIHRoZSBgcHJpbnQoKWAgZnVuY3Rpb24gdG8gdmlldyBtb3JlLiBZb3UgY2FuIGRvIHRoaXMgeW91IGNhbiBkbyB0aGlzIGJ5IHNwZWNpZml5aW5nIHRoZSBhbW91bnQgb2Ygcm93cyAoaW4gdGhpcyBjYXNlIHRoZXJlIGFyZSAyNCkKYGBge3IsIGV2YWw9RkFMU0V9CnN1cnZleV9kYXRhX3dpZGUgfD4KICBjb3VudChhZ2UsIGdlbmRlcikgfD4KICBwcmludChuID0gMjQpCmBgYAoKWW91IGNhbiBrZWVwIGFkZGluZyBhZGRpdGlvbmFsIHZhcmlhYmxlcyB0byB0aGVzZSwgbm90aW5nIHRoYXQgZWFjaCB2YXJpYWJsZSB3aWxsIGFkZCBhZGRpdGlvbmFsIHJvd3MuIElmIHlvdSBkb24ndCB3YW50IHRvIGxvb2sgYXQgdGhlIHZhbHVlcyBpbiB0aGUgUiBjb25zb2xlLCB5b3UgY2FuIHVzZSB0aGUgYFZpZXcoKWAgZnVuY3Rpb24gdG8gb3BlbiBpdCBpbiBhIHNlcGFyYXRlIHRhYi4KYGBge3IsIGV2YWw9RkFMU0V9CnN1cnZleV9kYXRhX3dpZGUgfD4KICBjb3VudChhZ2UsIGdlbmRlciwgeWVhcl9vZl9zdHVkeSkgfD4KICBWaWV3KCkKYGBgCgpJZiB0aGlzIGlzIHNvbWV0aGluZyB5b3Ugd2FudCB0byBjb21lIGJhY2sgdG8sIHlvdSBjYW4gc2F2ZSBpdCBpbnRvIGFuIFIgb2JqZWN0LgpgYGB7ciwgZXZhbD1GQUxTRX0KZGVtb2dyYXBoaWNzX2NvdW50IDwtIHN1cnZleV9kYXRhX3dpZGUgfD4KICBjb3VudChhZ2UsIGdlbmRlciwgeWVhcl9vZl9zdHVkeSkKClZpZXcoZGVtb2dyYXBoaWNzX2NvdW50KQpgYGAKCkEgZmluYWwgdGhpbmcgdGhhdCBjYW4gYmUgaGVscGZ1bCB3aXRoIHRoZSBgY291bnQoKWAgZnVuY3Rpb24gaXMgYWRkaW5nIGluIHRoZSBwcm9wb3J0aW9uIHRoYXQgZWFjaCBzdW0gcmVwcmVzZW50cyBpbiB0aGUgdG90YWwgc2FtcGxlLgoKOjo6d2Fsa3Rocm91Z2gKYGBge3IsIGV2YWw9RkFMU0V9CnN1cnZleV9kYXRhX3dpZGUgfD4KICBjb3VudChnZW5kZXIpIHw+CiAgbXV0YXRlKHByb3AgPSBuIC8gc3VtKG4pKQpgYGAKCioqU3RlcC1ieS1zdGVwIGV4cGxhbmF0aW9uOioqCgoxKSBTdGFydCBieSBwaXBpbmcgdGhlIGBzdXJ2ZXlfd2lkZWAgb2JqZWN0IHRvIHRoZSBgY291bnQoKWAgZnVuY3Rpb24gbGlrZSB3ZSd2ZSBiZWVuIGRvaW5nLgoyKSBBZGQgYW5vdGhlciBwaXBlIHRvIGluZGljYXRlIHdlIGFyZSBwYXNzaW5nIHRoYXQgY291bnQgdG8gYW5vdGhlciBmdW5jdGlvbi4KMykgYG11dGF0ZShwcm9wYCBjcmVhdGVzIGEgbmV3IGNvbHVtbiBjYWxsZWQgYHByb3BgLCB3aGljaCBzdGFuZHMgZm9yIHByb3BvcnRpb24gKHlvdSBjYW4gbmFtZSB0aGlzIHdoYXRldmVyIHlvdSB3YW50KS4KNCkgRXZlcnl0aGluZyBvbiB0aGUgcmlnaHQgc2lkZSBvZiB0aGUgYD1gIGlzIGFzc2lnbmVkIHRvIHRoZSBuZXcgYHByb3BgIGNvbHVtbi4gCjUpIGBuYCBpcyB0aGUgY291bnQgZm9yIGVhY2ggZ2VuZGVyIGNhdGVnb3J5LCBhbmQgYHN1bShuKWAgaXMgdGhlIHRvdGFsIG51bWJlciBvZiBldmVyeSByb3cvcGVyc29uIGluIHRoZSBzYW1wbGUuCjYpIGBuIC8gc3VtKG4pKWAgY2FsY3VsYXRlcyBgImNvdW50IG9mIGVhY2ggY2F0ZWdvcnkiIC8gInRvdGFsIGNvdW50ImAsIHdoaWNoIGdpdmVzIGEgcHJvcG9ydGlvbi4KCjo6OgoKIyMgWW91ciBUdXJuIQoKOjo6cXVlc3Rpb24KU2VlIGlmIHlvdSBjYW4gY3JlYXRlIHRoZSBmb2xsb3dpbmcgZnJvbSB0aGUgYHN1cnZleV9kYXRhX3dpZGVgIG9iamVjdDoKCjEpIEEgY291bnQgb2YgZWFjaCBgZ2VuZGVyYCBjYXRlZ29yeS4KYGBge3IsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCBldmFsPUZBTFNFfQpzdXJ2ZXlfZGF0YV93aWRlIHw+CiAgY291bnQoZ2VuZGVyKQpgYGAKMikgQSBjb3VudCBvZiBlYWNoIGBhZ2VgIGFuZCBgeWVhcl9vZl9zdHVkeWAuCmBgYHtyLCBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJywgZXZhbD1GQUxTRX0Kc3VydmV5X2RhdGFfd2lkZSB8PgogIGNvdW50KGFnZSwgeWVhcl9vZl9zdHVkeSkKYGBgCjMpIFRoZSBjb3VudCBvZiBgYWdlYCBhbmQgaXRzIHByb3BvcnRpb24uCmBgYHtyLCBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJywgZXZhbD1GQUxTRX0Kc3VydmV5X2RhdGFfd2lkZSB8PgogIGNvdW50KGFnZSkgfD4KICBtdXRhdGUocHJvcCA9IG4gLyBzdW0obikpCmBgYAo0KSBUaGUgY291bnQgb2YgYGFnZWAsIGB5ZWFyX29mX3N0dWR5YCwgYW5kIHRoZSBwcm9wb3J0aW9uCmBgYHtyLCBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJywgZXZhbD1GQUxTRX0Kc3VydmV5X2RhdGFfd2lkZSB8PgogIGNvdW50KGFnZSwgeWVhcl9vZl9zdHVkeSkgfD4KICBtdXRhdGUocHJvcCA9IG4gLyBzdW0obikpCmBgYAo6OjoKCiMjIFNpbXBsZSBCYXJwbG90cyBhcyBFeHBsb3JhdGlvbgoKSW4gYWRkaXRpb24gdG8gY3JlYXRpbmcgc3VtbWFyeSB0YWJsZXMgdG8gZXhwbG9yZSBkYXRhLCBjcmVhdGluZyBzaW1wbGUgcGxvdHMgY2FuIGJlIGFub3RoZXIgd2F5IHRvIGV4cGxvcmUgeW91ciBkYXRhLgoKT25lIHdheSB0byBkbyB0aGlzLCBpcyB1c2luZyB0aGUgYmFzZSBSIGBiYXJwbG90KClgIGZ1bmN0aW9uLiBUaGlzIGNhbiBiZSBkb25lIGluIGEgZmV3IHN0ZXBzLgoKCkluIHRoaXMgZXhhbXBsZSwgd2UncmUgZ29pbmcgdG8gcGxvdCB0aGUgY2F0ZWdvcmllcyBvZiB0aGUgYGhvdXJzX3Blcl9kYXlgIGNvbHVtbnMuCgpGaXJzdCwgbGV0J3MgbG9vayBhdCB0aGUgYCRgIG9wZXJhdG9yLiBXaGVuIHBsYWNlZCBhZnRlciBhIGRhdGEgb2JqZWN0IGluIFIsIGl0IGFsbG93cyB5b3UgdG8gaXNvbGF0ZSBzcGVjaWZpZWQgY29sdW1ucy4KCmBgYHtyLCBldmFsPUZBTFNFfQpzdXJ2ZXlfZGF0YV93aWRlJGhvdXJzX3Blcl9kYXkKYGBgCgpUaGlzIHdpbGwgc2hvdyBhbGwgdGhlIHZhbHVlcyBpbiB0aGF0IGNvbHVtbiBpbiB0aGUgUiBjb25zb2xlLiBHaXZlIGl0IGEgdHJ5IHdpdGggb3RoZXIgY29sdW1ucyEKCk5leHQsIHdlIGNhbiBhbHNvIHVzZSB0aGUgYHRhYmxlYCBmdW5jdGlvbiBoZXJlLCB0byBnZW5lcmF0ZSBhIHF1aWNrIHN1bW1hcnkgdGFibGUgb2YgdGhhdCBjb2x1bW4uCgpgYGB7ciwgZXZhbD1GQUxTRX0KdGFibGUoc3VydmV5X2RhdGFfd2lkZSRob3Vyc19wZXJfZGF5KQpgYGAKCkdpdmUgdGhpcyBhIHRyeSB3aXRoIHNvbWUgb3RoZXIgY29sdW1ucyEKCk5vdyB3ZSdyZSBnb2luZyB0byBzYXZlIHRoaXMgdGFibGUgYXMgYW4gb2JqZWN0IGNhbGxlZCBgaG91cnNfdGFibGVgLgoKYGBge3IsIGV2YWw9VFJVRX0KaG91cnNfdGFibGUgPC0gdGFibGUoc3VydmV5X2RhdGFfd2lkZSRob3Vyc19wZXJfZGF5KQpgYGAKCkZpbmFsbHksIHdlIGNhbiBmZWVkIHRoZSBgaG91cnNfdGFibGVgIG9iamVjdCBpbnRvIHRoZSBgYmFycGxvdCgpYCBmdW5jdGlvbiB0byBnZXQgb3VyIHBsb3QuCgpgYGB7ciwgZXZhbD1UUlVFfQpiYXJwbG90KGhvdXJzX3RhYmxlKQpgYGAKCllvdSBtaWdodCBub3RpY2UgdGhhdCB0aGUgYmFycyBhcmVuJ3QgaW4gYW55IHBhcnRpY3VsYXIgb3JkZXIsIHdoaWNoIGNhbiBiZSBhIGJpdCBhbm5veWluZy4gTGV0J3MgY2xlYW4gdGhpcyB1cCBieSBjcmVhdGluZyBhZGRpbmcgYW5vdGhlciBzdGVwLiAKCmBgYHtyLCBldmFsPVRSVUV9CmhvdXJzX3NvcnRlZCA8LSBzb3J0KGhvdXJzX3RhYmxlLCBkZWNyZWFzaW5nID0gVFJVRSkKYGBgCgpgYGB7ciwgZXZhbD1UUlVFfQpiYXJwbG90KGhvdXJzX3NvcnRlZCkKYGBgCgpUaGUgYHNvcnRgIGZ1bmN0aW9uIGlzIHRlbGxpbmcgUiB0aGF0IHdlIHdhbnQgdG8gcmVvcmRlciB0aGUgdmFsdWVzIGluIGBob3Vyc190YWJsZWAsIGFuZCB0aGUgYGRlY3JlYXNpbmcgPSBUUlVFYCBhbGxvd3MgdXMgdG8gc2VlIHRoZSB2YWx1ZXMgZnJvbSBiaWdnZXN0IHRvIHNtYWxsZXN0LiBZb3UgY2FuIGNoYW5nZSB0aGlzIHRvIGBkZWNyZWFzaW5nID0gRkFMU0VgIHRvIHNlZSBzbWFsbGVzdCB0byBiaWdnZXN0LgoKV2hlbiBleHBsb3JpbmcgZGF0YSwgaXQncyBub3QgYWx3YXlzIG5lY2Vzc2FyeSB0byBhZGQgbGFiZWxzIHRvIG91ciBwbG90cy4gSG93ZXZlciwgdGhpcyBjaGFydCBtaWdodCBiZSBzb21ldGhpbmcgeW91IHdhbnQgdG8gY29tbXVuaWNhdGUsIHNvIGxldCdzIGFkZCBzb21lIGxhYmVscyEKCmBgYHtyLCBldmFsPVRSVUV9CmJhcnBsb3QoaG91cnNfc29ydGVkLAogICAgICAgIG1haW4gPSAiSG91cnMgcGVyIGRheSBvbiBzb2NpYWwgbWVkaWEiLAogICAgICAgIHhsYWIgPSAiSG91cnMgcGVyIGRheSIsCiAgICAgICAgeWxhYiA9ICJOdW1iZXIgb2Ygc3R1ZGVudHMiKQpgYGAKCldpdGggdGhlIGBiYXJwbG90KClgIGZ1bmN0aW9uOgoKKiBgbWFpbmAgaXMgdGhlIHRpdGxlIG9mIHRoZSBjaGFydC4KKiBgeGxhYmAgaXMgdGhlIGxhYmVsIG9uIHRoZSB4IChob3Jpem9udGFsKSBheGlzLgoqIGB5bGFkYCBpcyB0aGUgbGFiZWwgb24gdGhlIHkgKHZlcnRpY2FsKSBheGlzLgoKIyMgWW91ciBUdXJuIQoKOjo6cXVlc3Rpb24KCjEpIE1ha2UgYSBiYXJwbG90IGZvciB0aGUgYGZlZWxfaW5jcmVhc2Vfc3RyZXNzYCB2YXJpYWJsZSwgdGhhdCBvcmRlcnMgdGhlIGJhcnMgZnJvbSBiaWdnZXN0IHRvIHNtYWxsZXN0LCBhbmQgaGFzIGxhYmVscyBmb3IgdGhlIHRpdGxlLCBhbmQgYm90aCBheGVzLgoKSGludDogYnJlYWsgdGhpcyBpbnRvIDMgc3RlcHM6CgoqIENyZWF0ZSBhbiBvYmplY3QgdGhhdCBjcmVhdGVzIGEgdGFibGUgb2YgdGhlIGBmZWVsX2luY3JlYXNlX3N0cmVzc2AgY29sdW1uCiogQ3JlYXRlIGFub3RoZXIgb2JqZWN0IHRoYXQgc29ydHMgdGhlIHRhYmxlIGluIGRlY3JlYXNpbmcgb3JkZXIKKiBDcmVhdGUgYSBiYXJwbG90IGFuZCBhZGQgMyBsYXllcnMgb2YgbGFiZWxzLgoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCBldmFsPUZBTFNFfQpzdHJlc3NfY291bnQgPC0gdGFibGUoc3VydmV5X2RhdGFfd2lkZSRmZWVsX2luY3JlYXNlX3N0cmVzcykKCnN0cmVzc19zb3J0ZWQgPC0gc29ydChzdHJlc3NfY291bnQsIGRlY3JlYXNpbmcgPSBUUlVFKQoKYmFycGxvdChzdHJlc3Nfc29ydGVkLAogICAgICAgIG1haW4gPSAiU29jaWFsIG1lZGlhIG1ha2VzIG1lIGZlZWwgYW54aW91cyBvciBzdHJlc3NlZCIsCiAgICAgICAgeGxhYiA9ICJGZWVsaW5nIGFueGlvdXMgb3Igc3RyZXNzZWQiLAogICAgICAgIHlsYWIgPSAiTnVtYmVyIG9mIHN0dWRlbnRzIikKYGBgCgoyKSBUcnkgdGhpcyB3aXRoIGFub3RoZXIgY29sdW1uIQoKOjo6CgoKIyMgTW92aW5nIHRvIFRpZHkgRGF0YQoKQXMgd2UndmUgc2Vlbiwgd29ya2luZyB3aXRoIHdpZGUgZGF0YSBjYW4gYmUgaGVscGZ1bCBmb3IgZ2VuZXJhdGluZyBxdWljayBzdW1tYXJpZXMgYW5kIGNvdW50cy4gQnV0IHdoYXQgaWYgd2Ugd2FudCB0byBhc2sgc29tZXRoaW5nIHRoYXQncyBhIGJpdCBtb3JlIGNvbXBsaWNhdGVkPwoKOjo6cXVlc3Rpb24KCkluIGdyb3VwcywgdGFrZSBhIGxvb2sgYXQgdGhlIGRhdGEgYW5kIHRhbGsgYWJvdXQgaG93IHlvdSBtaWdodCBnbyBhYm91dCBhbnN3ZXJpbmcgdGhlIHF1ZXN0aW9uLCAqKndoaWNoIHBsYXRmb3JtcyBhcmUgbW9zdCB1c2VkPyoqCgo6OjoKClRoZXJlIGFyZSBjZXJ0YWlubHkgd2F5cyB0byBkbyB0aGlzIHdpdGggdGhlIHdpZGUgZGF0YS4gT25lIHdheSB3b3VsZCBiZSB0byB1c2UgdGhlIGBjb3VudCgpYCBmdW5jdGlvbiBmb3IgZWFjaCBpbmRpdmlkdWFsIGNvbHVtbi4gSG93ZXZlciwgdGhpcyBpcyBhIGJpdCBjbHVua3ksIGFuZCB0aGVuIHlvdSB3b3VsZCBoYXZlIHRvIHRoZW4gZGVhbCB3aXRoIG1lcmdpbmcgdGhlIHJlc3BvbnNlcyBpbnRvIGEgdGFibGUgKG5vdCBpbXBvc3NpYmxlLCBidXQgaXQncyBtb3JlIHdvcmspLiBUaGVyZSBpcyBhIHdheSB0byBkbyB0aGlzIGlzIGEgc2luZ2xlIGNvZGUgY2h1bmssIGJ1dCBpdCBiZWNvbWVzIG92ZXJseSBsb25nIGFuZCBjb21wbGljYXRlZDoKCmBgYHtyLCBldmFsPUZBTFNFfQpwbGF0Zm9ybV9jb3VudHNfd2lkZSA8LSBzdXJ2ZXlfd2lkZSB8PgogIHN1bW1hcmlzZSgKICAgIGFjcm9zcygKICAgICAgYyhgTGlua2VkSW5gLCBJbnN0YWdyYW0sIFJlZGRpdCwgRmFjZWJvb2ssCiAgICAgICAgYFggKFR3aXR0ZXIpYCwgVGlrVG9rLCBTbmFwY2hhdCksCiAgICAgIH4gc3VtKC54KQogICAgKQogICkgfD4KICBwaXZvdF9sb25nZXIoCiAgICBjb2xzID0gZXZlcnl0aGluZygpLAogICAgbmFtZXNfdG8gPSAicGxhdGZvcm0iLAogICAgdmFsdWVzX3RvID0gIm5fdXNlcnMiCiAgKSB8PgogIGFycmFuZ2UoZGVzYyhuX3VzZXJzKSkKCnBsYXRmb3JtX2NvdW50c193aWRlCmBgYAoKV2UgZG9uJ3QgbmVlZCB0byB1bmRlcnN0YW5kIHRoaXMgY29kZSBjaHVuaywgaXQgaXMganVzdCBhbiBleGFtcGxlIG9mIHdoYXQgdGhlIGNvZGUgbG9va3MgbGlrZS4gSG93ZXZlciwgaWYgd2Ugc2hpZnQgdG8gKip0aWR5KiogZGF0YSwgdGhlIGNvZGUgYmVjb21lcyBtdWNoIHNob3J0ZXIgYW5kIHNpbXBsZXIuCgpGaXJzdCwgbGV0J3Mgc3RhcnQgYnkgdGFraW5nIGFub3RoZXIgbG9vayBhdCB0aGUgdGlkeSBkYXRhLgoKYGBge3IsIGV2YWw9RkFMU0V9ClZpZXcoc3VydmV5X2RhdGFfdGlkeSkKYGBgCgpZb3UgY2FuIHNlZSB0aGF0IHRoZXJlIGlzIHRoZSBzaW5nbGUgYHBsYXRmb3Jtc2AgY29sdW1uIHRoYXQgd2UgYXJlIGFibGUgdG8gcXVlcnkuCgpOb3csIGxldCdzIGRvIGEgY291bnQgb2YgdGhlIGRpZmZlcmVudCBjYXRlZ29yaWVzIGluIHRoaXMgY29sdW1uLgoKYGBge3IsIGV2YWw9VFJVRX0Kc3VydmV5X2RhdGFfdGlkeSB8PgogIGNvdW50KHBsYXRmb3JtcywgbmFtZSA9ICJuX3N0dWRlbnRzIikKYGBgCgpJbiB0aGlzIGNvZGUsIHdlIGFyZSB1c2luZyB0aGUgYGNvdW50KClgIGZ1bmN0aW9uIGxpa2Ugd2UganVzdCBkaWQsIGFuZCB0aGUgYG5hbWUgPSAibl9zdHVkZW50cyJgIGNyZWF0ZXMgYSBuZXcgY29sdW1uIG5hbWUgZm9yIHRoZSBudW1iZXIgZm9yIGVhY2ggY29sdW1uLiBgIm5fc3R1ZGVudHMiYCB3YXMgdXNlZCB0byBzaG93IHRoaXMgaXMgdGhlIG51bWJlciBvZiBzdHVkZW50cywgYnV0IHlvdSBjYW4gcHV0IGFueXRoaW5nIHlvdSB3YW50IGhlcmUsIG9yIGxlYXZlIGl0IGJsYW5rIGlmIHByZWZlcnJlZC4KCllvdSBjYW4gc2VlIHRoYXQgdGhpcyBjb2RlIGlzIHZlcnkgc2ltcGxlLCBidXQgdGhlcmUgaXMgYSBiaWcgcHJvYmxlbSB3aXRoIHRoZSBudW1iZXJzISBCZWNhdXNlIG91ciB0aWR5IGRhdGEgYWRkcyBhZGRpdGlvbmFsIHJvd3MgdG8gZGF0YSwgd2UgYXJlIHNlZWluZyBudW1iZXJzIGluIHRoZSB0aG91c2FuZHMgd2hlbiBvdXIgc2FtcGxlIHNpemUgaXMgb25seSAzMDAuIEhvd2V2ZXIsIHdoZW4gd2UgY2xlYW5lZCB0aGUgZGF0YSwgd2UgY3JlYXRlZCBhIHVuaXF1ZSBJRCBmb3IgZWFjaCBlbnRyeS4gVGhpcyB3YXMgdG8gaGVscCB3aXRoIHJlLWlkZW50aWZ5aW5nIHJlc3BvbnNlcyBpZiBuZWVkZWQsIGJ1dCBpdCBjYW4gYWxzbyBoZWxwIHVzIHdpdGggZWxpbWluYXRpbmcgcmVkdW5kYW50IHJvd3MuCgpgYGB7ciwgZXZhbD1UUlVFfQpzdXJ2ZXlfZGF0YV90aWR5IHw+CiAgZGlzdGluY3QoSUQsIHBsYXRmb3JtcykgfD4KICBjb3VudChwbGF0Zm9ybXMsIG5hbWUgPSAibl9zdHVkZW50cyIpCmBgYAoKVGhlIGBkaXN0aW5jdCgpYCBmdW5jdGlvbiBpcyB0ZWxsaW5nIFIgdGhhdCB3ZSBvbmx5IHdhbnQgdG8ga2VlcCB1bmlxdWUgY29tYmluYXRpb25zIG9mIGVhY2ggc3R1ZGVudCBgSURgIGFuZCBgcGxhdGZvcm1gLCB3aGljaCBlbGltaW5hdGVzIGFueSBvZiB0aGUgcmVkdW5kYW5jeSBvZiB0aGUgdGlkeSBkYXRhLiBBcyB5b3UgY2FuIHNlZSwgdGhlIG51bWJlcnMgYXJlIG5vdyBhY2N1cmF0ZSB0byBvdXIgc2FtcGxlLgoKQXMgd2l0aCBiZWZvcmUsIGl0IGNhbiBiZSBuaWNlIHRvIGFycmFuZ2UgdGhlIG51bWJlcnMgZnJvbSBiaWdnZXN0IHRvIHNtYWxsZXN0LgoKYGBge3IsIGV2YWw9VFJVRX0Kc3VydmV5X2RhdGFfdGlkeSB8PgogIGRpc3RpbmN0KElELCBwbGF0Zm9ybXMpIHw+CiAgY291bnQocGxhdGZvcm1zLCBuYW1lID0gIm5fc3R1ZGVudHMiKSB8PgogIGFycmFuZ2UoZGVzYyhuX3N0dWRlbnRzKSkKYGBgCgpJbiB0aGlzIGNhc2UsIHRoZSBgYXJyYW5nZSgpYCBmdW5jdGlvbiB0ZWxscyBSIHRoYXQgd2Ugd2FudCB0byBjaGFuZ2UgdGhlIG9yZGVyIG9mIHNvbWV0aGluZywgYW5kIGBkZXNjKG5fc3R1ZGVudHMpYCBzcGVjaWZpZXMgdGhhdCB3ZSB3YW50IHRoZSBgbl9zdHVkZW50c2AgY29sdW1uLCB3aGljaCBpcyB0aGUgdmFsdWVzIGZvciBlYWNoIHBsYXRmb3JtLCB0byBiZSBsaXN0ZWQgaW4gZGVzY2VuZGluZyBvcmRlciAoYmlnZ2VzdCB0byBzbWFsbGVzdCkuCgpGaW5hbGx5LCBvbmNlIHdlJ3JlIGhhcHB5IHdpdGggdGhlIG91dHB1dCBvZiB0aGlzIGNvZGUgY2h1bmssIHdlIGNhbiBzYXZlIGl0IGFzIGFuIFIgb2JqZWN0IHRvIHJldmlzaXQuIFdlJ2xsIGNhbGwgdGhlIG9iamVjdCBgcGxhdGZvcm1fY291bnRgLCBhbmQgbm93IHdlIGNhbiBlYXNpbHkgdmlldyBhbmQgd29yayB3aXRoIGl0IGdvaW5nIGZvcndhcmQuCgpgYGB7ciwgZXZhbD1UUlVFfQpwbGF0Zm9ybV9jb3VudCA8LSBzdXJ2ZXlfZGF0YV90aWR5IHw+CiAgZGlzdGluY3QoSUQsIHBsYXRmb3JtcykgfD4KICBjb3VudChwbGF0Zm9ybXMsIG5hbWUgPSAibl9zdHVkZW50cyIpIHw+CiAgYXJyYW5nZShkZXNjKG5fc3R1ZGVudHMpKQpgYGAKCiMjIEdvaW5nIERlZXBlciB3aXRoIFRpZHkgRGF0YQoKTGV0J3Mga2VlcCBkaWdnaW5nIGludG8gdGhlIHRpZHkgZGF0YSwgYW5kIHN0YXJ0IGFza2luZyBxdWVzdGlvbnMgdGhhdCBhcmUgcmVsYXRlZCB0byBvdXIgYmlnZ2VyIHJlc2VhcmNoIHF1ZXN0aW9uLCAqKiJIb3cgZG9lcyBzb2NpYWwgbWVkaWEgdXNhZ2UgaW5mbHVlbmNlIHRoZSBtZW50YWwgaGVhbHRoIG9mIHVuaXZlcnNpdHkgc3R1ZGVudHM/KioKCiMjIyAqKkNvbXBhcmlzb24gT3BlcmF0b3JzKioKCkNvbXBhcmlzb24gb3BlcmF0b3JzIGFsbG93IHVzIHRvIGxvb2sgZm9yIHNwZWNpZmljIGNyaXRlcmlhIGluIG91ciBkYXRhc2V0LiBUaGVzZSByZXR1cm4gYFRSVUVgIG9yIGBGQUxTRWAgYmFzZWQgb24gd2hldGhlciB0aGUgY29uZGl0aW9uIGlzIG1ldC4KCnwgT3BlcmF0b3IgfCBNZWFuaW5nICAgICAgICAgICAgICAgICAgfCBFeGFtcGxlICB8IFJlc3VsdCB8CnwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS18CnwgYD09YCAgICAgfCBFcXVhbCB0byAgICAgICAgICAgICAgICAgfCBgNSA9PSA1YCB8IGBUUlVFYCB8CnwgYCE9YCAgICAgfCBOb3QgZXF1YWwgdG8gICAgICAgICAgICAgfCBgNSAhPSAzYCB8IGBUUlVFYCB8CnwgYDxgICAgICAgfCBMZXNzIHRoYW4gICAgICAgICAgICAgICAgfCBgMyA8IDVgICB8IGBUUlVFYCB8CnwgYD5gICAgICAgfCBHcmVhdGVyIHRoYW4gICAgICAgICAgICAgfCBgNSA+IDNgICB8IGBUUlVFYCB8CnwgYDw9YCAgICAgfCBMZXNzIHRoYW4gb3IgZXF1YWwgdG8gICAgfCBgMyA8PSAzYCB8IGBUUlVFYCB8CnwgYD49YCAgICAgfCBHcmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gfCBgNSA+PSAzYCB8IGBUUlVFYCB8CgpPbmNlIHdlIHVuZGVyc3RhbmQgdGhlc2UgYmFzaWMgY29tcGFyaXNvbiBvcGVyYXRvcnMsIHdlIGNhbiBjb21iaW5lIHRoZW0gdXNpbmcgbG9naWNhbCBvcGVyYXRvcnMgdG8gY3JlYXRlIG1vcmUgY29tcGxleCBmaWx0ZXJpbmcgY29uZGl0aW9ucy4KCiMjIyAqKkxvZ2ljYWwgT3BlcmF0b3JzKioKCkxvZ2ljYWwgb3BlcmF0b3JzIGFsbG93IHVzIHRvIGZpbHRlciBkYXRhIGJhc2VkIG9uIG11bHRpcGxlIGNvbmRpdGlvbnMuCgp8IE9wZXJhdG9yIHwgTWVhbmluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgRXhhbXBsZSAgICAgICAgICAgICB8IFJlc3VsdCAgfAp8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXwKfCBgJmAgICAgICB8IExvZ2ljYWwgQU5EIChCb3RoIGNvbmRpdGlvbnMgbXVzdCBiZSBUUlVFKSAgICAgICB8IGAoNSA+IDMpICYgKDQgPCA2KWAgfCBgVFJVRWAgIHwKfCBgfGAgICAgICB8IExvZ2ljYWwgT1IgKEF0IGxlYXN0IG9uZSBjb25kaXRpb24gbXVzdCBiZSBUUlVFKSB8IGAoNSA+IDMpIHwgKDQgPiA2KWAgfCBgVFJVRWAgIHwKfCBgIWAgICAgICB8IExvZ2ljYWwgTk9UIChSZXZlcnNlcyBUUlVFL0ZBTFNFKSAgICAgICAgICAgICAgICB8IGAhKDUgPiAzKWAgICAgICAgICAgfCBgRkFMU0VgIHwKCgojIyMgQXNraW5nIFF1ZXN0aW9ucyB3aXRoIEZpbHRlcmluZwoKOjo6bm90ZQoKVGhlIGBmaWx0ZXIoKWAgZnVuY3Rpb24gcmV0dXJucyBvbmx5IHRoZSByb3dzIHRoYXQgbWVldCBhIHNwZWNpZmllZCBjb25kaXRpb24uCgo6OjoKCkZyb20gdGhlIGBmZWVsLXF1ZXN0aW9uYCBjb2x1bW4gaW4gb3VyIHRpZHkgZGF0YSwgdGhlc2UgdmFsdWVzIGluZGljYXRpbmcgd2hldGhlciBzb2NpYWwgbWVkaWEgbWFrZXMgc3R1ZGVudHMgZmVlbCBjb25uZWN0ZWQgdG8gb3RoZXJzIChgZmVlbF9jb25uZWN0ZWRgKSwgYW54aW91cyBvciBzdHJlc3NlZCAoYGZlZWxfaW5jcmVhc2Vfc3RyZXNzYCksIGRpc3RyYWN0cyB0aGVtIGZyb20gYWNhZGVtaWMgd29yayAoYGZlZWxfZGlzdHJhY3RlZGApLCBvciBpbXByb3ZlcyB0aGVpciBtb29kIChgZmVlbF9pbXByb3ZlZF9tb29kYCkuIAoKQXMgcGFydCBvZiB0aGUgYmlnZ2VyIHJlc2VhcmNoIHF1ZXN0aW9uLCAiSG93IGRvZXMgc29jaWFsIG1lZGlhIHVzYWdlIGluZmx1ZW5jZSB0aGUgbWVudGFsIGhlYWx0aCBvZiB1bml2ZXJzaXR5IHN0dWRlbnRzPywgd2UgY2FuIHVzZSB0aGlzIHZhcmlhYmxlIHRvIHN0YXJ0IGFza2luZyB0aGUgcXVlc3Rpb24sICoqImhvdyBtYW55IHN0dWRlbnRzIGZlZWwgWCBiZWNhdXNlIG9mIHRoZWlyIHNvY2lhbCBtZWRpYSB1c2U/KioKCjo6OndhbGt0aHJvdWdoCgpMZXQncyBmaXJzdCBzdGFydCBieSBhc2tpbmcsICJob3cgbWFueSBzdHVkZW50cyBmZWVsICoqYW54aW91cyBvciBzdHJlc3NlZCoqIGJlY2F1c2Ugb2Ygc29jaWFsIG1lZGlhPwoKYGBge3IsIGV2YWw9VFJVRX0Kc3RyZXNzZWRfY291bnQgPC0gc3VydmV5X2RhdGFfdGlkeSB8PgogIGRpc3RpbmN0KElELCBmZWVsX3F1ZXN0aW9uLCBmZWVsX3Jlc3BvbnNlKSB8PgogIGZpbHRlcihmZWVsX3F1ZXN0aW9uID09ICJmZWVsX2luY3JlYXNlX3N0cmVzcyIpIHw+CiAgY291bnQoZmVlbF9yZXNwb25zZSwgbmFtZSA9ICJmZWVsX2luY3JlYXNlX3N0cmVzcyIpIHw+CiAgYXJyYW5nZShkZXNjKGZlZWxfaW5jcmVhc2Vfc3RyZXNzKSkKCnN0cmVzc2VkX2NvdW50CmBgYAoKKipTdGVwLWJ5LXN0ZXAgZXhwbGFuYXRpb246KioKCiogV2Ugc3RhcnQgYnkgY3JlYXRpbmcgYSBuZXcgUiBvYmplY3QgdGhhdCB3aWxsIHNhdmUgdGhpcyBpbmZvcm1hdGlvbiwgY2FsbGVkIGBzdHJlc3NlZF9jb3VudGAuCiogV2UgdGhlbiBwaXBlIHRoZSBgc3VydmV5X2RhdGFfdGlkeWAgb2JqZWN0IHRvIGluZGljYXRlIHdlIHdpbGwgbWFuaXB1bGF0ZSBpdCBpbiBzb21lIHdheS4KKiBOZXh0LCBgZGlzdGluY3QoSUQsIGZlZWxfcXVlc3Rpb24sIGZlZWxfcmVzcG9uc2UpYCB0ZWxscyBSIHRvIG9ubHkga2VlcCB1bmlxdWUgY29tYmluYXRpb25zIG9mIGBJRGAsIGBmZWVsLXF1ZXN0aW9uYCwgYW5kIGBmZWVsX3Jlc3BvbnNlYC4KKiBUaGlzIGlzIHRoZW4gcGlwZWQgdGhyb3VnaCB0byB0aGUgYGZpbHRlcigpYCBjb21tYW5kLCBhbmQgYGZlZWxfcXVlc3Rpb24gPT0gZmVlbF9pbmNyZWFzZV9zdHJlc3NgIGxvb2tzIGZvciBvbmx5IGZvciB0aGUgc3RyZXNzZWQgdmFsdWVzIGluIHRoZSBgZmVlbF9xdWVzdGlvbmAgY29sdW1uLgoqIFRoaXMgaXMgcGlwZWQgaW50byB0aGUgYGNvdW50KClgIGZ1bmN0aW9uLCB0byBpbmRpY2F0ZSB3ZSB3YW50IGEgY291bnQgb2YgZXZlcnkgdW5pcXVlIGBmZWVsX2luY3JlYXNlX3N0cmVzc2AgYW5zd2VyIGluIHRoZSBgZmVlbF9yZXNwb25zZWAgY29sdW1uLCBhbmQgZ2l2ZXMgbmFtZXMgdGhlIG5ldyBjb2x1bW4gb2YgY291bnRzIGBmZWVsX2luY3JlYXNlX3N0cmVzc2AuCiogRmluYWxseSwgdGhlIGBhcnJhbmdlKGRlc2MoZmVlbF9pbmNyZWFzZV9zdHJlcykpYCBsaW5lIGFycmFuZ2VzIHRoZSB2YWx1ZXMgZnJvbSBiaWdnZXN0IHRvIHNtYWxsZXN0LgoKOjo6CgojIyBZb3VyIFR1cm4hCgo6OjpxdWVzdGlvbgoKSGludDogVXNlIHRoZSBjb2RlIGNodW5rIGFib3ZlIHRvIGd1aWRlIHlvdXIgc29sdXRpb24uCgoxKSBIb3cgbWFueSBzdHVkZW50cyBmZWVsICptb3JlIGNvbm5lY3RlZCogYmVjYXVzZSBvZiB0aGVpciBzb2NpYWwgbWVkaWEgdXNlPwoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCBldmFsPUZBTFNFfQpjb25uZWN0ZWRfY291bnQgfD4KICBkaXN0aW5jdChJRCwgZmVlbF9xdWVzdGlvbiwgZmVlbF9yZXNwb25zZSkgfD4KICBmaWx0ZXIoZmVlbF9xdWVzdGlvbiA9PSAiZmVlbF9jb25uZWN0ZWQiKSB8PgogIGNvdW50KGZlZWxfcmVzcG9uc2UsIG5hbWUgPSAiZmVlbF9jb25uZWN0ZWQiKSB8PgogIGFycmFuZ2UoZGVzYyhmZWVsX2Nvbm5lY3RlZCkpCgpjb25uZWN0ZWRfY291bnQKYGBgCgoyKSBIb3cgbWFueSBzdHVkZW50cyBmZWVsICpkaXN0cmFjdGVkKiBieSB0aGVpciBzb2NpYWwgbWVkaWEgdXNlPwoKYGBge3IsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnLCBldmFsPUZBTFNFfQpkaXN0cmFjdGVkX2NvdW50IHw+CiAgZGlzdGluY3QoSUQsIGZlZWxfcXVlc3Rpb24sIGZlZWxfcmVzcG9uc2UpIHw+CiAgZmlsdGVyKGZlZWxfcXVlc3Rpb24gPT0gImZlZWxfZGlzdHJhY3RlZCIpIHw+CiAgY291bnQoZmVlbF9yZXNwb25zZSwgbmFtZSA9ICJmZWVsX2Rpc3RyYWN0ZWQiKSB8PgogIGFycmFuZ2UoZGVzYyhmZWVsX2Rpc3RyYWN0ZWQpKQoKZGlzdHJhY3RlZF9jb3VudApgYGAKCjo6OgoKIyMgU3Vic2V0dGluZyB3aXRoIEZpbHRlciBhbmQgU2VsZWN0CgpOb3cgdGhhdCB3ZSd2ZSBzZWVuIGhvdyB0aGUgYGZpbHRlcigpYCBmdW5jdGlvbiBjYW4gaGVscCBuYXJyb3cgZG93biB0aGUgcm93IHdlIHdhbnQsIHdlIGNhbiBhZGQgdGhlIGBzZWxlY3QoKWAgZnVuY3Rpb24gdG8gbmFycm93IHdoaWNoIGNvbHVtbnMgdG8gbG9vayBhdC4gVGhpcyBpcyBhbiBhY3Rpb24gY2FsbGVkICoqc3Vic2V0dGluZyoqLCBhbmQgaXMgd2hlcmUgd2UgY2FuIHN0YXJ0IGFza2luZyBtb3JlIGNvbXBsZXggcXVlc3Rpb25zLgoKIVtdKGltYWdlcy8zLUFDVC0zLU92ZXJ2aWV3LnBuZykKCkFzIHBhcnQgb2Ygb3VyIHJlc2VhcmNoIHF1ZXN0aW9uLCB3ZSdyZSBpbnRlcmVzdGVkIGluIGNvbXBhcmluZyB0aGUgbWVudGFsIGhlYWx0aCByZXNwb25zZXMgKHRoZSBgZmVlbC1gIGNvbHVtbnMpIGluIGxpZ2h0IHVzZXJzIG9mIHNvY2lhbCBtZWRpYSB2cy4gaGVhdnkgdXNlcnMuIAoKKiBMaWdodCB1c2VycyBhcmUgdGhvc2UgdGhhdCByZXNwb25kZWQgIkxlc3MgdGhhbiAyIGhvdXJzIiBvciAiMi00IGhvdXJzIiBwZXIgZGF5LgoKKiBIZWF2eSB1c2VycyBhcmUgdGhvc2UgdGhhdCByZXNwb25kZWQgIjQtNiBob3VycyIgb3IgIk1vcmUgdGhhbiA2IGhvdXJzIiBwZXIgZGF5LgoKCjo6OndhbGt0aHJvdWdoCgpMZXQncyBzdGFydCBieSBpc29sYXRpbmcgKipoZWF2eSB1c2VycyoqIG9mIHNvY2lhbCBtZWRpYS4gV2UnbGwgd2FudCB0byBjaG9vc2UgKipyb3dzKiogdGhhdCBjb250YWluICI0LTYgaG91cnMiIG9yICJNb3JlIHRoYW4gNiBob3VycyIsIGFuZCB0aGUgYElEYCwgYGhvdXJzX3Blcl9kYXlgLCBgZmVlbF9xdWVzdGlvbmAsIGFuZCBgZmVlbF9yZXNwb25zZWAgKipjb2x1bW5zKiouIAoKYGBge3IsIGV2YWw9RkFMU0V9CmhlYXZ5X3VzZXJzX2ZlZWwgPC0gc3VydmV5X2RhdGFfdGlkeSB8PgogIGZpbHRlcigKICAgIGhvdXJzX3Blcl9kYXkgPT0gIjTigJM2IGhvdXJzIiB8CiAgICBob3Vyc19wZXJfZGF5ID09ICJNb3JlIHRoYW4gNiBob3VycyIpIHw+CiAgc2VsZWN0KElELCBob3Vyc19wZXJfZGF5LCBmZWVsX3F1ZXN0aW9uLCBmZWVsX3Jlc3BvbnNlKQoKaGVhdnlfdXNlcnNfZmVlbApgYGAKCioqU3RlcC1ieS1zdGVwIGV4cGxhbmF0aW9uOioqCgoqIENyZWF0ZSBhIG5ldyBSIG9iamVjdCBjYWxsZWQgYGhlYXZ5X3VzZXJzX2ZlZWxgIHRoYXQgd2lsbCBob2xkIHRoZSBkYXRhIHdlIHN1YnNldC4KKiBQaXBlIGBzdXJ2ZXlfZGF0YV90aWR5YCBpbnRvIHRoZSBgZmlsdGVyKClgIGZ1bmN0aW9uLCB0byBpc29sYXRlIHRoZSByb3dzIHdlIHdhbnQuCiogYGhvdXJzX3Blcl9kYXkgPT0gIjQtNiBob3VycyJgIHRlbGxzIFIgd2Ugd2FudCB0aGUgcm93cyB3aXRoICI0LTYgaG91cnMiIGluIHRoZSBgaG91cnNfcGVyX2RheWAgY29sdW1uLgoqIFdlIHVzZSB0aGUgb3Igb3BlcmF0b3IsIGB8YCwgdG8gaW5kaWNhdGUgdGhhdCB3ZSAqKmVpdGhlcioqIHdhbnQgIjQtNiBob3VycyIsIG9yIGFub3RoZXIgcmVzcG9uc2UuCiogYGhvdXJzX3Blcl9kYXkgPT0gIk1vcmUgdGhhbiA2IGhvdXJzImAgbGV0cyBSIGtub3cgdGhhdCB0aGlzIGlzIHRoZSBvdGhlciByZXNwb25zZSB3ZSB3YW50LgoqIFRoaXMgaXMgcGlwZWQgaW50byB0aGUgYHNlbGVjdCgpYCBmdW5jdGlvbiwgdG8gdGVsbCBSIHdoaWNoIGNvbHVtbnMgd2UnZCBsaWtlIGluIG91ciBzdWJzZXR0ZWQgZGF0YS4KKiBgaGVhdnlfdXNlcnNfZmVlbGAgd2lsbCB0aGVuIHNob3cgd2hhdCB0aGlzIGRhdGEgbG9va3MgbGlrZS4KCjo6OgoKIyMgWW91ciBUdXJuIQoKOjo6cXVlc3Rpb24KCk5vdyB0aGF0IHdlJ3ZlIGlzb2xhdGVkIGhlYXZ5IHVzZXJzLCBzZWUgaWYgeW91IGNhbiBkbyB0aGUgc2FtZSBmb3IgKipsaWdodCB1c2VycyoqLgoKSGludDogTG9vayBhdCB0aGUgY29kZSBhYm92ZSBhbmQgc2VlIHdoYXQgYml0cyBjYW4gYmUgY2hhbmdlZCB0byBhY2hpZXZlIHRoZSBzYW1lIHJlc3VsdC4KCmBgYHtyLCBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJywgZXZhbD1GQUxTRX0KbGlnaHRfdXNlcnNfZmVlbCA8LSBzdXJ2ZXlfZGF0YV90aWR5IHw+CiAgZmlsdGVyKAogICAgaG91cnNfcGVyX2RheSA9PSAiTGVzcyB0aGFuIDIgaG91cnMiIHwKICAgIGhvdXJzX3Blcl9kYXkgPT0gIjLigJM0IGhvdXJzIikgfD4KICBzZWxlY3QoSUQsIGhvdXJzX3Blcl9kYXksIGZlZWxfcXVlc3Rpb24sIGZlZWxfcmVzcG9uc2UpCgpsaWdodF91c2Vyc19mZWVsCmBgYAoKOjo6CgoKCgoK</div>
<div id="footer">
    <hr />
    <div class = "inst-logos">
      <img src="images/institutions/carleton.png" />
      <img src="images/institutions/calgary.png" />
      <img src="images/institutions/ubc.png" />
      <img class="uvic"  src="images/institutions/uvic.png" />
    </div>

<br>
    <div>
      <img class = "cc-licence" src="images/institutions/CC-License.png" />
      <p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-nc/4.0/" target ="blank">Creative Commons Attribution-NonCommercial 4.0 International License</p>
</div>
<br>
Built and rendered courtesy of <a href="https://rmarkdown.rstudio.com/index.html" target ="blank">RMarkdown from RStudio</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("Block8-3_SUR_Making-Sense.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = false;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
